/*
  filename: integralui.treeview.js
  version : 1.2.0
  Copyright Â© 2016-2017 Lidor Systems. All rights reserved.

  This file is part of the "IntegralUI Web" Library. 
                                                                   
  The contents of this file are subject to the IntegralUI Web License, and may not be used except in compliance with the License.
  A copy of the License should have been installed in the product's root installation directory or it can be found at
  http://www.lidorsystems.com/products/web/studio/license-agreement.aspx.
                                                            
  This SOFTWARE is provided "AS IS", WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License for the specific language 
  governing rights and limitations under the License. Any infringement will be prosecuted under applicable laws.                           
*/
var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
import { Component, ComponentFactoryResolver, ContentChild, ElementRef, EventEmitter, Input, Output, Renderer, TemplateRef, ViewChild, ViewChildren, ViewContainerRef } from '@angular/core';
import { IntegralUIBaseService, IntegralUIObjectState, IntegralUITComponent } from './integralui.core';
import { IntegralUICommonService } from '../services/integralui.common.service';
import { IntegralUIDataService } from '../services/integralui.data.service';
import { IntegralUIDragDropService } from '../services/integralui.dragdrop.service';
import { IntegralUIFilterService } from '../services/integralui.filter.service';
import { IntegralUIBaseList } from './integralui.base.list';
import { IntegralUITreeItem } from './integralui.treeitem';
var IntegralUITreeView = (function (_super) {
__extends(IntegralUITreeView,_super);
function IntegralUITreeView(a,b,c,d,f,g,h,k){var e=_super.call(this,a,b,c,d,f,g)||this;e.dataService=a;e.dragDropService=b;e.elemRef=c;e.elemRenderer=d;e.commonService=f;e.filterService=g;e.cmpResolver=h;e.baseService=k;e.fullList=[];e.isThereChildItems=!1;e.expandTimeout=null;e.expandItem=null;e.trialRef=null;e.autoExpand=!1;e.afterCollapse=new EventEmitter;e.afterExpand=new EventEmitter;e.beforeCollapse=new EventEmitter;e.beforeExpand=new EventEmitter;e.itemList=[];return e}
Object.defineProperty(IntegralUITreeView.prototype,"dataFields",{set:function(a){this.updateDataFields(a)},enumerable:!0,configurable:!0});Object.defineProperty(IntegralUITreeView.prototype,"indent",{get:function(){return this.options.indent},set:function(a){this.options.indent!=a&&(this.options.indent=a,this.updateLayout())},enumerable:!0,configurable:!0});
IntegralUITreeView.prototype.ngOnInit=function(){this.baseService.setComponent(this);this.updateData();this.updateCurrentList();this.generalClassName="iui-treeview";this.itemClassName="iui-treeitem";this.itemContentClassName=this.itemClassName+"-content";this.expandBoxClassName=this.itemClassName+"-expand-box";this.initStyle()};IntegralUITreeView.prototype.updateData=function(){this.dataService.init([{data:this.items}])};
IntegralUITreeView.prototype.initStyle=function(){this.defaultStyle={general:{disabled:this.generalClassName+"-disabled",focused:this.generalClassName+"-focused",normal:this.generalClassName,hovered:this.generalClassName+"-hovered",selected:this.generalClassName+"-selected"},item:{general:{disabled:this.itemClassName+"-disabled",focused:this.itemClassName+"-focused",normal:this.itemClassName,hovered:this.itemClassName+"-hovered",selected:this.itemClassName+"-selected"},expandBox:{general:this.expandBoxClassName,
load:this.expandBoxClassName+"-load",expanded:this.expandBoxClassName+"-open",collapsed:this.expandBoxClassName+"-close"},content:{disabled:this.itemContentClassName+"-disabled",focused:this.itemContentClassName+"-focused",normal:this.itemContentClassName,hovered:this.itemContentClassName+"-hovered",selected:this.itemContentClassName+"-selected"}}};this.updateStyle(this.controlStyle);this.updateControlClass();this.refresh()};
IntegralUITreeView.prototype.ngAfterViewInit=function(){var a=this,b=setTimeout(function(){var c=a.cmpResolver.resolveComponentFactory(IntegralUITComponent);c&&a.contentRef&&(a.trialRef=a.contentRef.createComponent(c));clearTimeout(b)},100);a.updateLayout()};IntegralUITreeView.prototype.ngAfterContentInit=function(){};
IntegralUITreeView.prototype.ngOnDestroy=function(){this.removeDropMark();this.expandTimeout&&clearTimeout(this.expandTimeout);this.updateTimer&&clearTimeout(this.updateTimer);this.trialRef&&this.trialRef.destroy()};IntegralUITreeView.prototype.ngAfterContentChecked=function(){};IntegralUITreeView.prototype.ngAfterViewChecked=function(){};
IntegralUITreeView.prototype.checkForChildren=function(a){var b=!1;if(a=a[this.options.dataFields.items])for(var c=0;c<a.length;c++)if(this.isItemAllowed(a[c])){b=!0;break}return b};IntegralUITreeView.prototype.updateIsThereChildItems=function(){var a=!1,b=this.dataService.getList();if(b)for(var c=0;c<b.length&&!(a=this.checkForChildren(b[c]));c++);this.isThereChildItems=a};IntegralUITreeView.prototype.processItemAdd=function(a,b){this.allowUpdate&&this.updateIsThereChildItems()};
IntegralUITreeView.prototype.processItemRemoval=function(a,b){this.allowUpdate&&this.updateIsThereChildItems()};
IntegralUITreeView.prototype.updateOptions=function(a){a?this.options={allowDrag:this.commonService.isFieldAvailable(a.allowDrag,!1),allowDrop:this.commonService.isFieldAvailable(a.allowDrop,!0),dataFields:null,indent:this.commonService.isFieldAvailable(a.indent,15),loadItems:[],selectedItem:this.commonService.isFieldAvailable(a.selectedItem,this.options.selectedItem?this.options.selectedItem:null)}:(this.options={allowDrag:!1,allowDrop:!0,dataFields:null,indent:15,loadItems:[],selectedItem:null},
this.updateDataFields())};
IntegralUITreeView.prototype.updateDataFields=function(a){this.options.dataFields=a?{allowDrag:a.allowDrag?a.allowDrag:"allowDrag",allowDrop:a.allowDrop?a.allowDrop:"allowDrop",allowEdit:a.allowEdit?a.allowEdit:"allowEdit",allowFocus:a.allowFocus?a.allowFocus:"allowFocus",autoCheck:a.autoCheck?a.autoCheck:"autoCheck",checkBoxSettings:a.checkBoxSettings?a.checkBoxSettings:"checkBoxSettings",checked:a.checked?a.checked:"checked",checkState:a.checkState?a.checkState:"checkState",content:a.content?a.content:
"content",contextMenu:a.contextMenu?a.contextMenu:"contextMenu",enabled:a.enabled?a.enabled:"enabled",expanded:a.expanded?a.expanded:"expanded",hasChildren:a.hasChildren?a.hasChildren:"hasChildren",icon:a.icon?a.icon:"icon",id:a.id?a.id:"id",items:a.items?a.items:"items",pid:a.pid?a.pid:"pid",selected:a.selected?a.selected:"selected",statusIcon:a.statusIcon?a.statusIcon:"statusIcon",style:a.style?a.style:"style",templateObj:a.templateObj?a.templateObj:"templateObj",text:a.text?a.text:"text",tooltip:a.tooltip?
a.tooltip:"tooltip",value:a.value?a.value:"value"}:{allowDrag:"allowDrag",allowDrop:"allowDrop",allowEdit:"allowEdit",allowFocus:"allowFocus",autoCheck:"autoCheck",checkBoxSettings:"checkBoxSettings",checked:"checked",checkState:"checkState",content:"content",contextMenu:"contextMenu",enabled:"enabled",expanded:"expanded",hasChildren:"hasChildren",icon:"icon",id:"id",items:"items",pid:"pid",selected:"selected",statusIcon:"statusIcon",style:"style",templateObj:"templateObj",text:"text",tooltip:"tooltip",
value:"value"};this.dataService&&this.dataService.updateDataFields(this.options.dataFields)};IntegralUITreeView.prototype.getDataFields=function(){return this.options.dataFields};IntegralUITreeView.prototype.updateCurrentList=function(){var a=this;a.currentList.length=0;a.isThereChildItems=!1;var b=a.dataService.getList();b&&(a.applySorting(b),b.forEach(function(b){a.addChildItems(b,0,null,!1)}))};
IntegralUITreeView.prototype.addChildItems=function(a,b,c,d,f){var g=this,h=!0;if(!a[g.options.dataFields.items])return h=g.addItemToCurrentList(a,b,c,d,f);if(h=g.addItemToCurrentList(a,b,c,d,f)){var k=0,e=!0;if(d||g.isItemExpanded(a))if(c=a[g.options.dataFields.items])g.applySorting(c),c.forEach(function(c){(e=g.addChildItems(c,b+g.options.indent,a[g.options.dataFields.id],d,a))&&k++});d||g.isThereChildItems||!(0<k||!g.isItemExpanded(a)&&a[g.options.dataFields.items]&&0<a[g.options.dataFields.items].length&&
g.isThereVisibleChildren(a))||(g.isThereChildItems=!0)}return h};IntegralUITreeView.prototype.addItemToCurrentList=function(a,b,c,d,f){a.type="item";a[this.options.dataFields.id]||(a[this.options.dataFields.id]=this.commonService.getUniqueId());c&&(a[this.options.dataFields.pid]=c);(c=this.isItemAllowed(a))&&(d?this.fullList.push(a):this.currentList.push({data:a,indent:b}));return c};IntegralUITreeView.prototype.loadData=function(a,b,c,d){this.processLoadData(a,b,c,d)};
IntegralUITreeView.prototype.updateItem=function(a){var b=this;if(a&&this.isItemExpanded(a))var c=setTimeout(function(){var d=b.getComponentFromItem(a);d&&!d.isBlockExpanded()&&d.toggleContent();clearTimeout(c)},100)};
IntegralUITreeView.prototype.updateScrollItemList=function(){for(var a=this.scrollItemList.length=0,b=this.currentIndex;b<this.currentList.length&&b<this.currentIndex+this.visibleRange;b++,a++){var c=this.currentList[b];c={data:c.data,indent:c.indent,index:b-this.currentIndex,style:{},tabIndex:a};this.updateItemStyle(c);this.scrollItemList.push(c)}};
IntegralUITreeView.prototype.expandOnDelay=function(a){var b=this;0!=b.autoExpand&&(b.expandItem!=a&&(b.expandTimeout&&clearTimeout(b.expandTimeout),b.expandTimeout=setTimeout(function(){b.expandTimeout&&b.expand(a);clearTimeout(b.expandTimeout)},500)),b.expandItem=a)};
IntegralUITreeView.prototype.itemDragOver=function(a,b,c,d){var f=this.getItemElemList();f&&0<=c&&c<f.length&&(c=this.commonService.getPageRect(f[c].nativeElement),c={x:c.left,y:c.top,width:c.right-c.left,height:c.bottom-c.top},this.expandOnDelay(b.data),this.processScroll(a),this.processDragOver(a,b.data,c,d));a.stopPropagation()};IntegralUITreeView.prototype.itemDragDrop=function(a,b){this.expandItem=null;this.expandTimeout&&clearTimeout(this.expandTimeout);this.processDragDrop(a,b.data);a.stopPropagation()};
IntegralUITreeView.prototype.collapse=function(a){this.toggle(a,!1)};IntegralUITreeView.prototype.expand=function(a){this.toggle(a,!0)};IntegralUITreeView.prototype.expandBoxClicked=function(a,b){1==a.buttons&&this.toggle(b);a.stopPropagation()};
IntegralUITreeView.prototype.toggle=function(a,b){if(a){if((a[this.options.dataFields.hasChildren]||a[this.options.dataFields.items]&&0!=a[this.options.dataFields.items].length)&&!(b&&0!=a[this.options.dataFields.expanded]||!1===b&&0==a[this.options.dataFields.expanded])){var c=void 0!==b?b:!1!==a[this.options.dataFields.expanded]?!0:!1,d=void 0!=b?b:!c;if(0!=this.virtualMode){var f={cancel:!1,item:a};void 0!==b?b?this.beforeExpand.emit(f):this.beforeCollapse.emit(f):c?this.beforeCollapse.emit(f):
this.beforeExpand.emit(f);1!=f.cancel&&(d!=a[this.options.dataFields.expanded]&&(a[this.options.dataFields.expanded]=d,this.updateCurrentLayout()),this.isItemExpanded(a)?this.afterExpand.emit({item:a}):this.afterCollapse.emit({item:a}))}else if(c=this.getComponentFromItem(a))c.expanded=d}}else if(0!=this.virtualMode){d=this.getFullList();for(c=0;c<d.length;c++)d[c][this.options.dataFields.expanded]=b;this.updateCurrentLayout()}else(this.itemList=this.contentList.toArray())&&0<this.itemList.length&&
this.itemList.forEach(function(a){a.toggle(b,!0)})};IntegralUITreeView.prototype.getFullList=function(){this.fullList.length=0;var a=this.dataService.getList();if(a)for(var b=0;b<a.length;b++)this.addChildItems(a[b],0,null,!0);return this.fullList};IntegralUITreeView.prototype.getItemFromComponent=function(a){return a&&a.data?a.data:this.items&&(this.itemList=this.contentList.toArray(),a=this.itemList.indexOf(a),0<=a&&a<this.items.length)?this.items[a]:null};
IntegralUITreeView.prototype.getItemIndex=function(a){return this.itemList&&0<this.itemList.length?this.itemList.indexOf(a):-1};IntegralUITreeView.prototype.getItemParent=function(a){return this.dataService.getParent(a)};IntegralUITreeView.prototype.getList=function(a,b){switch(a){case "selected":return this.currentSelectedItems}return this.dataService.getList(b)};
IntegralUITreeView.prototype.isChildOf=function(a,b){var c=!1;if(a&&b){var d=b[this.options.dataFields.items];if(d&&0<d.length)for(var f=0;f<d.length;f++){if(this.commonService.isEqual(a[this.options.dataFields.id],d[f][this.options.dataFields.id])){c=!0;break}else c=this.isChildOf(a,d[f]);if(c)break}}return c};
IntegralUITreeView.prototype.isParentOf=function(a,b){var c=this.dataService.getParent(b);return a&&b&&c&&this.commonService.isEqual(a[this.options.dataFields.id],c[this.options.dataFields.id])?!0:!1};IntegralUITreeView.prototype.isThereChildren=function(){return this.isThereChildItems};IntegralUITreeView.prototype.isItemExpanded=function(a){return a?a[this.options.dataFields.expanded]||void 0===a[this.options.dataFields.expanded]?!0:!1:!0};
IntegralUITreeView.prototype.isThereVisibleChildren=function(a){var b=!1;if(a&&(a=a[this.options.dataFields.items]))for(var c=0;c<a.length;c++)if(this.isItemAllowed(a[c])){b=!0;break}return b};
IntegralUITreeView.prototype.invokeEvent=function(a,b){var c=!0;if(b){var d={cancel:!1,item:b};switch(a){case "AFTER_COLLAPSE":this.afterCollapse.emit({item:b});break;case "AFTER_EXPAND":this.afterExpand.emit({item:b});break;case "BEFORE_COLLAPSE":this.beforeCollapse.emit(d);c=!d.cancel;break;case "BEFORE_EXPAND":this.beforeExpand.emit(d),c=!d.cancel}}return c};
IntegralUITreeView.prototype.invokeMethod=function(a,b){var c=!0;if(b)switch(a){case "CHANGE_EXPANDED":this.changeExpanded(b.component);break;case "SELECT_ITEM":c=this.processSelection(b.event,b.item);break;case "UPDATE_SELECTION":this.updateSelection(b.event,b.item)}return c};IntegralUITreeView.prototype.changeExpanded=function(a){a&&a.data&&(a.data[this.options.dataFields.expanded]=a.expanded)};IntegralUITreeView.prototype.processLeftArrowKey=function(a,b){this.collapse(a.data);return null};
IntegralUITreeView.prototype.processRightArrowKey=function(a,b){this.expand(a.data);return null};IntegralUITreeView.prototype.getContentSize=function(){return this.contentElem?{width:this.contentElem.nativeElement.offsetWidth,height:this.contentElem.nativeElement.offsetHeight}:{width:0,height:0}};
IntegralUITreeView.prototype.getComponentFromItem=function(a){var b=null;if((this.itemList=this.contentList.toArray())&&0<this.itemList.length)for(var c=0;!b&&c<this.itemList.length;){b=this.itemList[c];if(this.getItemFromComponent(b)==a)break;else b=b.getComponentFromItem(a);c++}return b};IntegralUITreeView.prototype.updateBlockSize=function(){this.blockSize={width:this.contentElem.nativeElement.offsetWidth,height:this.contentElem.nativeElement.offsetHeight}};
IntegralUITreeView.prototype.updateCurrentLayout=function(){var a=this;a.allowUpdate&&(a.resetLayout(),a.updateCurrentList(),a.updateScrollItemList(),a.updateScrollSize(),a.updateTimer=setTimeout(function(){a.updateBlockSize();clearTimeout(a.updateTimer)},1))};IntegralUITreeView.prototype.getItemElemList=function(){return this.itemElems?this.itemElems.toArray():null};IntegralUITreeView.prototype.beginLoad=function(a){a&&0>this.options.loadItems.indexOf(a)&&this.options.loadItems.push(a)};
IntegralUITreeView.prototype.endLoad=function(a){a=this.options.loadItems.indexOf(a);0<=a&&this.options.loadItems.splice(a,1)};IntegralUITreeView.prototype.isItemLoading=function(a){return 0<=this.options.loadItems.indexOf(a)?!0:!1};IntegralUITreeView.prototype.itemDblClickEvent=function(a,b){this.toggle(b.data);a.stopPropagation()};
IntegralUITreeView.prototype.scrollTo=function(a){if(0!=this.virtualMode&&a){this.suspendLayout();for(var b=this.getItemParent(a);null!=b;)this.expand(b),b=this.getItemParent(b);this.resumeLayout();var c=this,d=setTimeout(function(){var b=c.getItemCurrentIndex(a);0<=b&&(c.scrollPos({x:c.currentScrollPos.x,y:c.avgItemHeight*(b-Math.floor(c.visibleRange/2))}),c.updateLayout());clearTimeout(d)},150)}};
IntegralUITreeView.prototype.clearComponentSelection=function(){this.contentList&&(this.itemList=this.contentList.toArray())&&0<this.itemList.length&&this.itemList.forEach(function(a){a.state&=~IntegralUIObjectState.selected;a.clearComponentSelection()})};
IntegralUITreeView.prototype.updateItemStyle=function(a){a&&(a.style={general:[],expandBox:[],content:[]},a.style.general.push(this.itemClassName),a.style.general.push(this.options.currentStyle.item.general.normal),a.style.content.push(this.itemContentClassName),a.style.content.push(this.options.currentStyle.item.content.normal),this.isItemEnabled(a.data)?this.isItemSelected(a.data)?(a.style.general.push(this.options.currentStyle.item.general.selected),a.style.content.push(this.options.currentStyle.item.content.selected)):
this.isItemHovered(a.data)&&(a.style.general.push(this.options.currentStyle.item.general.hovered),a.style.content.push(this.options.currentStyle.item.content.hovered)):(a.style.general.push(this.options.currentStyle.item.general.disabled),a.style.content.push(this.options.currentStyle.item.content.disabled)),a.data==this.currentFocusItem&&a.style.content.push(this.options.currentStyle.item.content.focused),(this.isThereChildItems||a.data[this.options.dataFields.hasChildren])&&a.style.expandBox.push(this.options.currentStyle.item.expandBox.general),
a.data[this.options.dataFields.hasChildren]&&(this.isThereVisibleChildren(a.data)||!a.data[this.options.dataFields.items]||a.data[this.options.dataFields.items]&&0==a.data[this.options.dataFields.items].length)||this.isThereVisibleChildren(a.data))&&(this.isItemLoading(a.data)?a.style.expandBox.push(this.options.currentStyle.item.expandBox.load):0!=a.data[this.options.dataFields.expanded]?a.style.expandBox.push(this.options.currentStyle.item.expandBox.expanded):a.style.expandBox.push(this.options.currentStyle.item.expandBox.collapsed))};
IntegralUITreeView.prototype.getItemStyle=function(a){return a?{general:this.getItemGeneralStyle(a.general),expandBox:this.getItemExpandBoxStyle(a.expandBox),content:this.getItemContentStyle(a.content)}:this.getDefaultItemStyle()};
IntegralUITreeView.prototype.getItemExpandBoxStyle=function(a){return this.commonService.isString(a)?a:a?{general:this.commonService.isFieldAvailable(a.disabled,this.expandBoxClassName),load:this.commonService.isFieldAvailable(a.focused,this.expandBoxClassName+"-load"),expanded:this.commonService.isFieldAvailable(a.normal,this.expandBoxClassName+"-open"),collapsed:this.commonService.isFieldAvailable(a.hovered,this.expandBoxClassName+"-close")}:this.getDefaultItemExpandBoxStyle()};
IntegralUITreeView.prototype.getDefaultItemStyle=function(){return{general:this.getDefaultItemGeneralStyle(),expandBox:this.getDefaultItemExpandBoxStyle(),content:this.getDefaultItemContentStyle()}};IntegralUITreeView.prototype.getDefaultItemExpandBoxStyle=function(){return{general:this.defaultStyle.item.expandBox.general,load:this.defaultStyle.item.expandBox.load,expanded:this.defaultStyle.item.expandBox.expanded,collapsed:this.defaultStyle.item.expandBox.collapsed}};
IntegralUITreeView.prototype.resetRefresh=function(){this.refreshTimer&&clearTimeout(this.refreshTimer);this.refreshTimer=null};
IntegralUITreeView.prototype.refresh=function(a){if(this.allowUpdate)if(this.resetRefresh(),0!=this.virtualMode)for(this.updateControlClass(),a=0;a<this.scrollItemList.length;a++)this.updateItemStyle(this.scrollItemList[a]);else{this.clearComponentSelection();for(a=0;a<this.currentSelectedItems.length;a++){var b=this.getComponentFromItem(this.currentSelectedItems[a]);b&&(b.state|=IntegralUIObjectState.selected)}if(this.contentList)for(this.itemList=this.contentList.toArray(),a=0;a<this.itemList.length;a++)this.itemList[a].refresh()}};    return IntegralUITreeView;
}(IntegralUIBaseList));
export { IntegralUITreeView };
IntegralUITreeView.decorators = [
    { type: Component, args: [{
                selector: 'iui-treeview',
                template: "\n\t\t<div [ngClass]=\"getControlClass()\" (mousewheel)=\"processMouseWheel($event)\" (mouseenter)=\"onCtrlMouseEnter($event)\" (mouseleave)=\"onCtrlMouseLeave($event)\" (dragleave)=\"ctrlDragLeave($event)\" (dragover)=\"ctrlDragOver($event)\" (drop)=\"ctrlDragDrop($event)\" (scroll)=\"onScroll($event)\" [ngStyle]=\"{ overflow: virtualMode != false ? 'hidden' : 'auto' }\">\n            <span [ngSwitch]=\"virtualMode\" #content>\n                <span *ngSwitchCase=\"true\">\n\t                <ul  style=\"margin:0;padding:0;\" [ngStyle]=\"{ width: contentSize.width + 'px', height: contentSize.height + 'px' }\">\n\t\t\t\t        <li [ngClass]=\"item.style.general\" *ngFor=\"let item of scrollItemList; let i = index\" [ngStyle]=\"{ 'padding-left': item.indent + 'px' }\" (mouseenter)=\"itemMouseEnter($event, item)\" (mouseleave)=\"itemMouseLeave($event, item)\" (mousedown)=\"itemMouseDown($event, item)\" (mouseup)=\"itemMouseUp($event, item)\" (dragover)=\"itemDragOver($event, item, i)\" (drop)=\"itemDragDrop($event, item)\" #itemElem>\n\t        \t            <div [ngClass]=\"item.style.content\" tabindex=\"{{item.tabIndex}}\" [iuiFocus]=\"item.data == this.currentFocusItem\" (focus)=\"itemGotFocus(item)\" (blur)=\"itemLostFocus(item)\" (keydown)=\"itemKeyDown($event, item)\" (keypress)=\"itemKeyPress($event, item)\" (keyup)=\"itemKeyUp($event, item)\">\n\t\t\t\t\t\t\t\t<span [ngClass]=\"item.style.expandBox\" (mousedown)=\"expandBoxClicked($event, item.data)\"></span>\n\t\t\t\t\t\t\t\t<div draggable=\"true\" (dragstart)=\"itemDragStart($event, item)\" (click)=\"itemClickEvent($event, item)\" (dblclick)=\"itemDblClickEvent($event, item)\">\n\t\t\t\t\t\t\t\t\t<span [iuiTemplateOutlet]=\"itemTemplate\" [iuiTemplateOutletContext]=\"{$implicit: (item.data)}\"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t        </li>\n\t                </ul>\n\t\t            <iui-scrollbar *ngIf=\"isVerScrollVisible()\" [value]=\"currentScrollPos.y\" [max]=\"maxScrollPos.y\" [largeChange]=\"scrollLargeChange.y\" [height]=\"scrollBarSize.height\" (valueChanged)=\"onVerticalScrollChanged($event)\" (scrollStart)=\"onVerticalScrollStart($event)\" (scrollEnd)=\"onVerticalScrollEnd($event)\" #verScroll></iui-scrollbar>\n\t\t            <iui-scrollbar *ngIf=\"isHorScrollVisible()\" [orientation]=\"horScrollOrientation\" [value]=\"currentScrollPos.x\" [max]=\"maxScrollPos.x\" [width]=\"scrollBarSize.width\" (valueChanged)=\"onHorizontalScrollChanged($event)\" (scrollStart)=\"onHorizontalScrollStart($event)\" (scrollEnd)=\"onHorizontalScrollEnd($event)\" #horScroll></iui-scrollbar>\n\t\t            <div *ngIf=\"isVerScrollVisible() && isHorScrollVisible()\" style=\"background:#f5f5f5;position:absolute;right:0;bottom:0;width:16px;height:16px;\"></div>\n\t            </span>\n                <span *ngSwitchDefault>\n\t                <ul style=\"margin:0;padding:0;\">\n\t\t\t            <iui-treeitem *ngFor=\"let item of items\" [text]=\"item.text\" [templateRef]=\"itemTemplate\" [data]=\"item\" [items]=\"item.items\">\n\t\t\t\t\t\t</iui-treeitem> \n\t                </ul>\n\t            </span>\n            </span>\n\t\t</div>\n\t",
                inputs: ['allowDrag', 'allowDrop', 'allowFilter', 'allowFocus', 'appRef', 'beforeEdit', 'controlStyle', 'data', 'items', 'name', 'selectedItem', 'selectionMode', 'sorting', 'state', 'virtualMode'],
                outputs: ['afterSelect', 'beforeSelect', 'change', 'clear', 'dragDrop', 'dragOver', 'itemAdding', 'itemAdded', 'itemRemoving', 'itemRemoved', 'keyDown', 'keyPress', 'keyUp', 'loadComplete', 'scrollPosChanged', 'selectionChanged', 'updateComplete'],
                providers: [IntegralUIBaseService, IntegralUIDataService]
            },] },
];
/** @nocollapse */
IntegralUITreeView.ctorParameters = function () { return [
    { type: IntegralUIDataService, },
    { type: IntegralUIDragDropService, },
    { type: ElementRef, },
    { type: Renderer, },
    { type: IntegralUICommonService, },
    { type: IntegralUIFilterService, },
    { type: ComponentFactoryResolver, },
    { type: IntegralUIBaseService, },
]; };
IntegralUITreeView.propDecorators = {
    'contentList': [{ type: ViewChildren, args: [IntegralUITreeItem,] },],
    'contentRef': [{ type: ViewChild, args: ['content', { read: ViewContainerRef },] },],
    'contentElem': [{ type: ViewChild, args: ['content', { read: ElementRef },] },],
    'itemTemplate': [{ type: ContentChild, args: [TemplateRef,] },],
    'itemElems': [{ type: ViewChildren, args: ['itemElem', { read: ElementRef },] },],
    'verScrollCmp': [{ type: ViewChild, args: ['verScroll',] },],
    'horScrollCmp': [{ type: ViewChild, args: ['horScroll',] },],
    'autoExpand': [{ type: Input },],
    'dataFields': [{ type: Input },],
    'indent': [{ type: Input },],
    'afterCollapse': [{ type: Output },],
    'afterExpand': [{ type: Output },],
    'beforeCollapse': [{ type: Output },],
    'beforeExpand': [{ type: Output },],
};
//# sourceMappingURL=integralui.treeview.js.map